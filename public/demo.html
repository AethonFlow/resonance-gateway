<!doctype html><html lang="de"><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Demo – Run = Zyklus</title>
<style>
body{font:16px/1.5 system-ui;margin:2rem;max-width:900px}
label,select,button{font:inherit}.row{display:flex;gap:1rem;align-items:center;margin:.5rem 0}
pre{background:#f7f7f7;padding:1rem;border-radius:8px;overflow:auto}.badge{padding:.2rem .5rem;border:1px solid #ddd;border-radius:6px}
</style>
<h1>Run = Zyklus</h1>
<div class="row">
  <label for="a">Haus A:</label>
  <select id="a">
    <option>NNO</option><option>ONO</option><option>OSO</option><option>SSO</option>
    <option>SSW</option><option>WSW</option><option>WNW</option><option>NNW</option>
  </select>
  <label for="b">Haus B:</label>
  <select id="b">
    <option>ONO</option><option>OSO</option><option>SSO</option><option>SSW</option>
    <option>WSW</option><option>WNW</option><option>NNW</option><option>NNO</option>
  </select>
  <button id="run">Run starten</button>
</div>
<div id="status" class="badge">bereit</div>
<h2>Ergebnis</h2>
<pre id="out">—</pre>
<script>
async function run(){
  const a=document.getElementById('a').value,b=document.getElementById('b').value;
  const status=document.getElementById('status'),out=document.getElementById('out');
  status.textContent="läuft…";
  try{
    const res=await fetch(`/.netlify/functions/resonance?houseA=${a}&houseB=${b}`);
    const json=await res.json();
    out.textContent=JSON.stringify(json,null,2);
    status.textContent="fertig";
  }catch(e){out.textContent=String(e);status.textContent="Fehler";}
}
document.getElementById('run').addEventListener('click',run);
</script>
</html>
